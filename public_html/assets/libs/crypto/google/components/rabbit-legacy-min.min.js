(function(){function i(){for(var b=this._X,l=this._C,o=0;8>o;o++){m[o]=l[o]}l[0]=l[0]+1295307597+this._b|0;l[1]=l[1]+3545052371+(l[0]>>>0<m[0]>>>0?1:0)|0;l[2]=l[2]+886263092+(l[1]>>>0<m[1]>>>0?1:0)|0;l[3]=l[3]+1295307597+(l[2]>>>0<m[2]>>>0?1:0)|0;l[4]=l[4]+3545052371+(l[3]>>>0<m[3]>>>0?1:0)|0;l[5]=l[5]+886263092+(l[4]>>>0<m[4]>>>0?1:0)|0;l[6]=l[6]+1295307597+(l[5]>>>0<m[5]>>>0?1:0)|0;l[7]=l[7]+3545052371+(l[6]>>>0<m[6]>>>0?1:0)|0;this._b=l[7]>>>0<m[7]>>>0?1:0;for(o=0;8>o;o++){var f=b[o]+l[o],k=f&65535,j=f>>>16;a[o]=((k*k>>>17)+k*j>>>15)+j*j^((f&4294901760)*f|0)+((f&65535)*f|0)}b[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0;b[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0;b[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0;b[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0;b[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0;b[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0;b[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0;b[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}var h=CryptoJS,d=h.lib.StreamCipher,n=[],m=[],a=[],c=h.algo.RabbitLegacy=d.extend({_doReset:function(){for(var g=this._key.words,k=this.cfg.iv,l=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],g=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535],f=this._b=0;4>f;f++){i.call(this)}for(f=0;8>f;f++){g[f]^=l[f+4&7]}if(k){var l=k.words,k=l[0],l=l[1],k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,l=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360,f=k>>>16|l&4294901760,j=l<<16|k&65535;g[0]^=k;g[1]^=f;g[2]^=l;g[3]^=j;g[4]^=k;g[5]^=f;g[6]^=l;g[7]^=j;for(f=0;4>f;f++){i.call(this)}}},_doProcessBlock:function(f,e){var g=this._X;i.call(this);n[0]=g[0]^g[5]>>>16^g[3]<<16;n[1]=g[2]^g[7]>>>16^g[5]<<16;n[2]=g[4]^g[1]>>>16^g[7]<<16;n[3]=g[6]^g[3]>>>16^g[1]<<16;for(g=0;4>g;g++){n[g]=(n[g]<<8|n[g]>>>24)&16711935|(n[g]<<24|n[g]>>>8)&4278255360,f[e+g]^=n[g]}},blockSize:4,ivSize:2});h.RabbitLegacy=d._createHelper(c)})();